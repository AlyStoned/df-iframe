(this["webpackJsonpreact-sandbox"]=this["webpackJsonpreact-sandbox"]||[]).push([[0],{15:function(e,t,n){e.exports={row:"FileHandler_row__3ctkL",button:"FileHandler_button__2cmpa",popup:"FileHandler_popup__6eeRa"}},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(17),c=n.n(i),s=n(12),o=n(7),u=n(4),d=n(3),l=n.n(d),p=n(14),f=n.n(p),h=n(23),b=n(18),v=n(19),j=n(9),m=n(20),g=n(24),O=n(16),y=n(21),x=function(e){Object(m.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.call(this)).src="https://app-test.digifabster.com/4taps/widget/upload",e.url=void 0,e.api=void 0,e.port=void 0,e.url=new URL(e.src),e.handleDocumentReady=e.handleDocumentReady.bind(Object(j.a)(e)),e.handleInitMessage=e.handleInitMessage.bind(Object(j.a)(e)),document.addEventListener("DOMContentLoaded",e.handleDocumentReady),e}return Object(v.a)(n,[{key:"handleInitMessage",value:function(e){this.eventIsValid(e)&&(this.port=e.ports[0],this.setupApi(this.port))}},{key:"eventIsValid",value:function(e){return Boolean(e.origin.startsWith(this.url.origin)&&"ready"===e.data.status&&e.ports[0])}},{key:"setupApi",value:function(e){this.api=Object(O.b)(e),this.fire("ready",this.api)}},{key:"handleDocumentReady",value:function(){var e=this,t=document.querySelector('script[src="'.concat("https://digifabster.com/static/js/widget.js",'"]'));null===t||void 0===t||t.addEventListener("load",(function(){var t=document.querySelector('iframe[src^="'.concat(window.__digifabsterCompanyWidgetUrl,'"]'));null===t||void 0===t||t.addEventListener("load",(function(){e.init()}),{once:!0})}),{once:!0})}},{key:"init",value:function(){window.addEventListener("message",this.handleInitMessage)}},{key:"destroy",value:function(){window.removeEventListener("message",this.handleInitMessage),this.api&&this.api[O.a](),this.fire("destroy"),this.off()}},{key:"call",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var n,r,a,i,c,s=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=s.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=s[a];if(i=this,c=this.api[t],this.ready){e.next=6;break}return this.once("ready",Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Reflect.apply(c,i.api,r);case 2:case"end":return e.stop()}}),e)})))),e.abrupt("return");case 6:return e.next=8,Reflect.apply(c,this.api,r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ready){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return e.next=4,Reflect.get(this.api,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ready",get:function(){return Boolean(this.port&&this.api)}}]),n}(y.EventEmitter),w=new x,k="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",E=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=e;n--;)t+=k[64*Math.random()|0];return t},L=n(15),_=n.n(L),R=n(2);function I(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],i=1===n.length,c=Object(h.a)({onDropAccepted:function(e,t){var n=e.map((function(e){return{uuid:E(),file:e}}));a((function(e){return[n[0]]}))},multiple:false,disabled:i,maxFiles:1}),d=c.getRootProps,p=c.getInputProps,b=Object(r.useCallback)(Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.length){e.next=4;break}return e.next=3,w.call("transferModels",n.map((function(e){return e.file})));case 3:a([]);case 4:case"end":return e.stop()}}),e)}))),[n]),v=Object(r.useCallback)((function(e){var t=e.target;t.classList.contains("df-widget-close")||t.closest("#df-widget-btn")&&b()}),[b]);return Object(r.useEffect)((function(){return document.addEventListener("click",v),function(){document.removeEventListener("click",v)}}),[v]),Object(R.jsxs)("div",{children:[Object(R.jsx)("div",{className:f()(_.a.row,{hidden:i}),children:Object(R.jsxs)("div",Object(s.a)(Object(s.a)({},d()),{},{children:[Object(R.jsx)("input",Object(s.a)({},p())),Object(R.jsx)("p",{children:"Drop file here, or click to select file"})]}))}),Object(R.jsx)("div",{className:f()(_.a.row,{hidden:!i}),children:n.map((function(e){return Object(R.jsx)("button",{title:"Click to remove",onClick:(t=e.uuid,function(e){e.stopPropagation(),a((function(e){return e.filter((function(e){return e.uuid!==t}))}))}),children:e.file.name},e.uuid);var t}))})]})}var M=n.p+"static/media/logo.183d3140.svg";n(33);var A=function(){return Object(R.jsx)("div",{className:"App",children:Object(R.jsxs)("header",{className:"App-header",children:[Object(R.jsx)("img",{src:M,className:"App-logo",alt:"logo"}),Object(R.jsx)(I,{})]})})};n(34);c.a.render(Object(R.jsx)(a.a.StrictMode,{children:Object(R.jsx)(A,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.ebfbddd9.chunk.js.map