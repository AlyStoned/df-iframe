(this["webpackJsonpreact-sandbox"]=this["webpackJsonpreact-sandbox"]||[]).push([[0],{12:function(e,t,n){e.exports={row:"FileHandler_row__1IqbK",button:"FileHandler_button__Allyh",popup:"FileHandler_popup__1Tunt"}},42:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(8),c=n.n(i),s=n(10),o=n(3),u=n.n(o),l=n(5),d=n(4),f=n(6),p=n.n(f),h=n(7),b=n(30),j=n(21),v=n(32),m=n(23),O=n(24),x=n(14),g=n(25),w=n(31),y=n(20),k=function(e){Object(g.a)(n,e);var t=Object(w.a)(n);function n(e,r){var a;return Object(m.a)(this,n),(a=t.call(this)).url=void 0,a.iframe=void 0,a.api=void 0,a.port=void 0,a.url=new URL(e),a.iframe=r,a.handleInitMessage=a.handleInitMessage.bind(Object(x.a)(a)),a.init(),a}return Object(O.a)(n,[{key:"handleInitMessage",value:function(e){this.eventIsValid(e)&&(this.port=e.ports[0],this.setupApi(this.port))}},{key:"eventIsValid",value:function(e){return Boolean(e.origin.startsWith(this.url.origin)&&"ready"===e.data.status&&e.ports[0])}},{key:"setupApi",value:function(e){this.api=Object(y.b)(e),this.fire("ready",this.api)}},{key:"init",value:function(){window.addEventListener("message",this.handleInitMessage)}},{key:"destroy",value:function(){window.removeEventListener("message",this.handleInitMessage),this.api&&this.api[y.a](),this.fire("destroy"),this.off()}},{key:"call",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r,a,i,c=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ready){e.next=2;break}return e.abrupt("return");case 2:for(n=this.api[t],r=c.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=c[i];return e.next=6,Reflect.apply(n,this.api,a);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ready){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Reflect.get(this.api,t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ready",get:function(){return Boolean(this.port&&this.api)}}]),n}(n(26).EventEmitter),I=n(2);function A(e){var t=e.exposedAPI,n=e.onAPIReady,a=e.src,i=Object(v.a)(e,["exposedAPI","onAPIReady","src"]),c=null,o=Object(r.useCallback)(Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.current=new k(a,c),n&&t.current.once("ready",n);case 2:case"end":return e.stop()}}),e)}))),[t,n,a,c]);return Object(r.useEffect)((function(){return c&&c.addEventListener("load",o,{once:!0}),function(){var e;null===(e=t.current)||void 0===e||e.destroy(),t.current=void 0}}),[c]),Object(I.jsx)("iframe",Object(s.a)({id:"df-iframe",title:"DF Iframe Example",width:"1024",height:"720",frameBorder:"0",allow:"fullscreen",src:a,ref:function(e){c=e}},i))}var P=n(12),C=n.n(P);function E(){var e=Object(r.useRef)(),t=Object(r.useState)(!1),n=Object(d.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)([]),o=Object(d.a)(c,2),f=o[0],v=o[1],m=1===f.length,O=Object(b.a)({onDropAccepted:function(e,t){var n=e.map((function(e){return{uuid:Object(h.d)(),file:e}}));v((function(e){return[n[0]]}))},multiple:false,disabled:m,maxFiles:1}),x=O.getRootProps,g=O.getInputProps,w=(O.isDragActive,Object(r.useCallback)(function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.length){e.next=4;break}return e.next=3,t.data.models.transfer(f.map((function(e){return e.file})));case 3:v([]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[f]));return Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:p()(C.a.row,{hidden:m}),children:Object(I.jsxs)("div",Object(s.a)(Object(s.a)({},x()),{},{children:[Object(I.jsx)("input",Object(s.a)({},g())),Object(I.jsx)("p",{children:"Drop file here, or click to select file"})]}))}),Object(I.jsx)("div",{className:p()(C.a.row,{hidden:!m}),children:f.map((function(e){return Object(I.jsx)("button",{title:"Click to remove",onClick:(t=e.uuid,function(e){e.stopPropagation(),v((function(e){return e.filter((function(e){return e.uuid!==t}))}))}),children:e.file.name},e.uuid);var t}))}),Object(I.jsx)("div",{className:C.a.row,children:Object(I.jsx)("button",{className:C.a.button,onClick:function(){return i(!0)},children:"Open Iframe"})}),Object(I.jsx)(j.a,{open:a,onClose:function(){return i(!1)},closeOnEsc:!0,center:!0,classNames:{modal:C.a.popup},children:Object(I.jsx)(A,{exposedAPI:e,onAPIReady:w,src:"https://app-test.digifabster.com/4taps/widget/upload"})})]})}var R=n.p+"static/media/logo.183d3140.svg";n(42);var _=function(){return Object(I.jsx)("div",{className:"App",children:Object(I.jsxs)("header",{className:"App-header",children:[Object(I.jsx)("img",{src:R,className:"App-logo",alt:"logo"}),Object(I.jsx)(E,{})]})})};function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var B=Object(h.b)("counter/fetchCount",function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),M=Object(h.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(B.pending,(function(e){e.status="loading"})).addCase(B.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),F=M.actions,D=(F.increment,F.decrement,F.incrementByAmount,M.reducer),L=Object(h.a)({reducer:{counter:D}}),S=n(29);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(49),n(50);c.a.render(Object(I.jsx)(a.a.StrictMode,{children:Object(I.jsx)(S.a,{store:L,children:Object(I.jsx)(_,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.fe3aa3b9.chunk.js.map